<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="958px" preserveAspectRatio="none" style="width:1489px;height:958px;background:#FFFFFF;" version="1.1" viewBox="0 0 1489 958" width="1489px" zoomAndPan="magnify"><defs/><g><!--MD5=[92e531b096bc714096ba0676b0cf86b6]
cluster app.softnetwork--><g id="cluster_app.softnetwork"><path d="M8.5,6 L126.5,6 A3.75,3.75 0 0 1 129,8.5 L136,28.4883 L1479.5,28.4883 A2.5,2.5 0 0 1 1482,30.9883 L1482,948.5 A2.5,2.5 0 0 1 1479.5,951 L8.5,951 A2.5,2.5 0 0 1 6,948.5 L6,8.5 A2.5,2.5 0 0 1 8.5,6 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="136" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="117" x="10" y="21.5352">app.softnetwork</text></g><!--MD5=[1cf0093d12693aaee3e3ee3b97e554cb]
cluster concurrent--><g id="cluster_concurrent"><path d="M207.5,49 L284.5,49 A3.75,3.75 0 0 1 287,51.5 L294,71.4883 L624.5,71.4883 A2.5,2.5 0 0 1 627,73.9883 L627,203.5 A2.5,2.5 0 0 1 624.5,206 L207.5,206 A2.5,2.5 0 0 1 205,203.5 L205,51.5 A2.5,2.5 0 0 1 207.5,49 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="205" x2="294" y1="71.4883" y2="71.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="76" x="209" y="64.5352">concurrent</text></g><!--MD5=[17f6721f56ea66e90eeb34d205c9588f]
cluster persistence.typed--><g id="cluster_persistence.typed"><path d="M32.5,255 L158.5,255 A3.75,3.75 0 0 1 161,257.5 L168,277.4883 L1455.5,277.4883 A2.5,2.5 0 0 1 1458,279.9883 L1458,924.5 A2.5,2.5 0 0 1 1455.5,927 L32.5,927 A2.5,2.5 0 0 1 30,924.5 L30,257.5 A2.5,2.5 0 0 1 32.5,255 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="30" x2="168" y1="277.4883" y2="277.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="125" x="34" y="270.5352">persistence.typed</text></g><!--MD5=[6dcebea560b13200095a72e6c1b59982]
cluster scaladsl--><g id="cluster_scaladsl"><path d="M56.5,298 L115.5,298 A3.75,3.75 0 0 1 118,300.5 L125,320.4883 L778.5,320.4883 A2.5,2.5 0 0 1 781,322.9883 L781,900.5 A2.5,2.5 0 0 1 778.5,903 L56.5,903 A2.5,2.5 0 0 1 54,900.5 L54,300.5 A2.5,2.5 0 0 1 56.5,298 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="54" x2="125" y1="320.4883" y2="320.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="58" x="58" y="313.5352">scaladsl</text></g><!--MD5=[455e3bc6b9b4352bd65ff7b6c51109a4]
class Retryable--><g id="elem_Retryable"><rect codeLine="6" fill="#F1F1F1" height="106.0859" id="Retryable" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="389" x="221.5" y="84"/><ellipse cx="373.75" cy="104.3105" fill="#9B9B9B" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M375.0918,111.5605 L372.6431,111.5605 L372.6431,101.3091 L369.4971,101.3091 L369.4971,99.1675 L378.2378,99.1675 L378.2378,101.3091 L375.0918,101.3091 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="408.75" y="100.6016">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="64" x="394.25" y="116.668">Retryable</text><rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="10" x="603.5" y="81"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="8" x="604.5" y="93.6016">T</text><line style="stroke:#181818;stroke-width:0.5;" x1="222.5" x2="609.5" y1="124.6211" y2="124.6211"/><ellipse cx="232.5" cy="138.3652" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="241.5" y="142.1563">nbTries: Int = 1</text><line style="stroke:#181818;stroke-width:0.5;" x1="222.5" x2="609.5" y1="149.1094" y2="149.1094"/><ellipse cx="232.5" cy="162.8535" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="363" x="241.5" y="166.6445">retry(fn: =&gt; Future[T]): Future[T] = retry(nbTries)(fn)</text><ellipse cx="232.5" cy="179.3418" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="347" x="241.5" y="183.1328">«recursive»retry(n: Int)(fn: =&gt; Future[T]): Future[T]</text></g><!--MD5=[e8dbbcecc707ce203655be52ea7e778f]
class CommandTypeKey--><g id="elem_CommandTypeKey"><rect codeLine="13" fill="#F1F1F1" height="65.1094" id="CommandTypeKey" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="393" x="1048.5" y="427.5"/><ellipse cx="1137.25" cy="447.8105" fill="#9B9B9B" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1138.5918,455.0605 L1136.1431,455.0605 L1136.1431,444.8091 L1132.9971,444.8091 L1132.9971,442.6675 L1141.7378,442.6675 L1141.7378,444.8091 L1138.5918,444.8091 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="1204.25" y="444.1016">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="128" x="1157.75" y="460.168">CommandTypeKey</text><rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="77" x="1367.5" y="424.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="75" x="1368.5" y="437.1016">C: Command</text><line style="stroke:#181818;stroke-width:0.5;" x1="1049.5" x2="1440.5" y1="468.1211" y2="468.1211"/><ellipse cx="1059.5" cy="481.8652" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="367" x="1068.5" y="485.6563">def TypeKey(implicit c: ClassTag[C]): EntityTypeKey[C]</text></g><path d="M797,434.5 L797,475.1211 A0,0 0 0 0 797,475.1211 L1013,475.1211 A0,0 0 0 0 1013,475.1211 L1013,458.8105 L1052.5,480.3652 L1013,450.8105 L1013,444.5 L1003,434.5 L797,434.5 A0,0 0 0 0 797,434.5 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M1003,434.5 L1003,444.5 L1013,444.5 L1003,434.5 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="803" y="452.0684">A key that uniquely identifies</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="803" y="467.3789">the type of entity in the cluster</text><!--MD5=[efc8ec19c3e08cd56c5087be9ed2056f]
class Patterns--><g id="elem_Patterns"><rect codeLine="21" fill="#F1F1F1" height="254.4805" id="Patterns" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="592" x="120" y="333"/><ellipse cx="285.25" cy="353.3105" fill="#9B9B9B" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M286.5918,360.5605 L284.1431,360.5605 L284.1431,350.3091 L280.9971,350.3091 L280.9971,348.1675 L289.7378,348.1675 L289.7378,350.3091 L286.5918,350.3091 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="316.25" y="349.6016">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="305.75" y="365.668">Patterns</text><rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="195" x="520" y="330"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="193" x="521" y="342.6016">C: Command, R: CommandResult</text><line style="stroke:#181818;stroke-width:0.5;" x1="121" x2="711" y1="373.6211" y2="373.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="126" y="391.1563">«type» Recipient</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="126" y="407.6445">timeout: Timeout</text><line style="stroke:#181818;stroke-width:0.5;" x1="121" x2="711" y1="414.5977" y2="414.5977"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="422" x="140" y="432.1328">«implicit» command2Request(command: C): ActorRef[R] =&gt; C</text><rect fill="#808080" height="6" style="stroke:#595959;stroke-width:1.0;" width="6" x="128" y="441.8301"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="453" x="140" y="448.6211">recipientRef(recipient: Recipient): akka.actor.typed.RecipientRef[C]</text><ellipse cx="131" cy="461.3184" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="566" x="140" y="465.1094">?(recipient: Recipient, command: C): Future[R] = recipientRef(recipient) ? command</text><ellipse cx="131" cy="477.8066" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="526" x="140" y="481.5977">!(recipient: Recipient, command: C): Unit = recipientRef(recipient) ! command</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="140" y="498.0859">«implicit» key2Recipient[T](key: T): Recipient</text><polygon fill="#E9E9E9" points="131,505.7832,135,509.7832,131,513.7832,127,509.7832" style="stroke:#8C8C8C;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300" x="140" y="514.5742">lookup[T](key: T): Future[Option[Recipient]]</text><ellipse cx="131" cy="527.2715" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247" x="140" y="531.0625">??[T](key: T, command: C): Future[R]</text><ellipse cx="131" cy="543.7598" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="140" y="547.5508">?![T](key: T, command: C): Unit</text><ellipse cx="131" cy="560.248" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321" x="140" y="564.0391">*?[T](keys: List[T], command: C): Future[List[R]]</text><ellipse cx="131" cy="576.7363" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250" x="140" y="580.5273">*![T](keys: List[T], command: C): Unit</text></g><!--MD5=[263b12883196fc438116ea59d3bbd821]
class EntityPattern--><g id="elem_EntityPattern"><rect codeLine="36" fill="#F1F1F1" height="65.1094" id="EntityPattern" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="316" x="449" y="664"/><ellipse cx="464" cy="684.3105" fill="#9B9B9B" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M465.3418,691.5605 L462.8931,691.5605 L462.8931,681.3091 L459.7471,681.3091 L459.7471,679.1675 L468.4878,679.1675 L468.4878,681.3091 L465.3418,681.3091 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="504" y="680.6016">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="87" x="478" y="696.668">EntityPattern</text><rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="195" x="573" y="661"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="193" x="574" y="673.6016">C: Command, R: CommandResult</text><line style="stroke:#181818;stroke-width:0.5;" x1="450" x2="764" y1="704.6211" y2="704.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="455" y="722.1563">«type» Recipient = String</text></g><!--MD5=[da5807ac236da24bd897a7946913cf27]
class SingletonPattern--><g id="elem_SingletonPattern"><rect codeLine="40" fill="#F1F1F1" height="40.6211" id="SingletonPattern" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="343" x="70.5" y="676"/><ellipse cx="85.5" cy="696.3105" fill="#9B9B9B" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M86.8418,703.5605 L84.3931,703.5605 L84.3931,693.3091 L81.2471,693.3091 L81.2471,691.1675 L89.9878,691.1675 L89.9878,693.3091 L86.8418,693.3091 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="139" y="692.6016">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="114" x="99.5" y="708.668">SingletonPattern</text><rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="195" x="221.5" y="673"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="193" x="222.5" y="685.6016">C: Command, R: CommandResult</text></g><!--MD5=[1f06e778de7755814024fd9e3211c3d0]
class RecipientPattern--><g id="elem_RecipientPattern"><rect codeLine="41" fill="#F1F1F1" height="80.9766" id="RecipientPattern" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="535" y="806"/><ellipse cx="550" cy="822" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M552.4731,828.1431 Q551.8921,828.4419 551.2529,828.5913 Q550.6138,828.7407 549.9082,828.7407 Q547.4014,828.7407 546.0815,827.0889 Q544.7617,825.437 544.7617,822.3159 Q544.7617,819.1865 546.0815,817.5347 Q547.4014,815.8828 549.9082,815.8828 Q550.6138,815.8828 551.2612,816.0322 Q551.9087,816.1816 552.4731,816.4805 L552.4731,819.2031 Q551.8423,818.6221 551.2488,818.3523 Q550.6553,818.0825 550.0244,818.0825 Q548.6797,818.0825 547.9949,819.1492 Q547.3101,820.2158 547.3101,822.3159 Q547.3101,824.4077 547.9949,825.4744 Q548.6797,826.541 550.0244,826.541 Q550.6553,826.541 551.2488,826.2712 Q551.8423,826.0015 552.4731,825.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="564" y="827.291">RecipientPattern</text><line style="stroke:#181818;stroke-width:0.5;" x1="536" x2="678" y1="838" y2="838"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="541" y="855.5352">entityId: String</text><line style="stroke:#181818;stroke-width:0.5;" x1="536" x2="678" y1="862.4883" y2="862.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="541" y="880.0234">ref(): EntityRef[C]</text></g><!--MD5=[ba7ab25a5c3a7d059318af3d9c16dbdb]
reverse link Retryable to Patterns--><g id="link_Retryable_Patterns"><path codeLine="35" d="M416,211.19 C416,247.11 416,291.41 416,332.57 " fill="none" id="Retryable-backto-Patterns" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="409,211.29,416,191.29,423,211.29,409,211.29" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="417" y="235.5684">«bind» &lt;R -&gt; T&gt;</text></g><!--MD5=[28213d457a0bb7aee0fb1cf7845a91ed]
reverse link Patterns to EntityPattern--><g id="link_Patterns_EntityPattern"><path d="M473.62,605.2 C480.4,615.48 487.84,625.23 496,634 C506.65,645.46 519.93,655.29 533.56,663.52 " fill="none" id="Patterns-backto-EntityPattern" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="467.26,609.22,462.84,588.49,479.22,601.94,467.26,609.22" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c9d2451bb95792f305f6762670b1674e]
reverse link CommandTypeKey to EntityPattern--><g id="link_CommandTypeKey_EntityPattern"><path codeLine="39" d="M1182.45,504.21 C1141.02,531.18 1084.64,564.87 1031,587 C946.01,622.07 846.64,648.22 765.47,666.06 " fill="none" id="CommandTypeKey-backto-EntityPattern" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1178.25,497.93,1198.79,492.73,1185.97,509.61,1178.25,497.93" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="942" y="630.5684">«self»</text></g><!--MD5=[7426c6e3bf341126ad9af967fce70b58]
reverse link Patterns to SingletonPattern--><g id="link_Patterns_SingletonPattern"><path d="M310.11,603.71 C288.9,632.3 269.26,658.77 256.57,675.86 " fill="none" id="Patterns-backto-SingletonPattern" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="304.84,600.06,322.38,588.17,316.08,608.41,304.84,600.06" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4443dc3a63986ba339fdf03acf8f3c90]
reverse link EntityPattern to RecipientPattern--><g id="link_EntityPattern_RecipientPattern"><path codeLine="45" d="M607,745.17 C607,764.67 607,786.99 607,805.61 " fill="none" id="EntityPattern-backto-RecipientPattern" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="607" cy="738.25" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="607" x2="607" y1="746.25" y2="730.25"/><line style="stroke:#181818;stroke-width:1.0;" x1="599" x2="615" y1="738.25" y2="738.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="608" y="772.5684">«implicit»</text></g><!--MD5=[0f724080a5cd8e43577996c84ffa3a22]
@startuml Patterns
skinparam monochrome true
hide empty members

package app.softnetwork {
    package concurrent {
        abstract Retryable <T> <<(T,orchid) trait>> {
            +nbTries: Int = 1
            +retry(fn: => Future[T]): Future[T] = retry(nbTries)(fn)
            +<<recursive>>retry(n: Int)(fn: => Future[T]): Future[T]
        }
    }
    package persistence.typed {
        abstract class CommandTypeKey <C: Command> <<(T,orchid) trait >> {
            +def TypeKey(implicit c: ClassTag[C]): EntityTypeKey[C]
        }
        note left of CommandTypeKey::TypeKey
            A key that uniquely identifies
            the type of entity in the cluster
        end note
        package scaladsl {
            abstract Patterns <C: Command, R: CommandResult> <<(T,orchid) trait>>{
                <<type>> Recipient
                <<implicit>> command2Request(command: C): ActorRef[R] => C
                timeout: Timeout
                -recipientRef(recipient: Recipient): akka.actor.typed.RecipientRef[C]
                +?(recipient: Recipient, command: C): Future[R] = recipientRef(recipient) ? command
                +!(recipient: Recipient, command: C): Unit = recipientRef(recipient) ! command
                <<implicit>> key2Recipient[T](key: T): Recipient
                #lookup[T](key: T): Future[Option[Recipient]]
                +??[T](key: T, command: C): Future[R]
                +?![T](key: T, command: C): Unit
                +*?[T](keys: List[T], command: C): Future[List[R]]
                +*![T](keys: List[T], command: C): Unit
            }
            Retryable <|- - Patterns: <<bind>> <R -> T>
            abstract EntityPattern <C: Command, R: CommandResult> <<(T,orchid) trait>> extends Patterns{
                <<type>> Recipient = String
            }
            CommandTypeKey <|.. EntityPattern : <<self>>
            abstract SingletonPattern <C: Command, R: CommandResult> <<(T,orchid) trait>> extends Patterns
            class RecipientPattern {
              entityId: String
              ref(): EntityRef[C]
            }
            EntityPattern +- - RecipientPattern: <<implicit>>
        }
    }
}
@enduml

PlantUML version 1.2022.12(Sun Oct 23 20:12:26 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: fr
Country: FR
--></g></svg>