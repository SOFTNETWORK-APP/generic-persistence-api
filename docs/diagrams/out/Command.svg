<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="355px" preserveAspectRatio="none" style="width:1130px;height:355px;background:#FFFFFF;" version="1.1" viewBox="0 0 1130 355" width="1130px" zoomAndPan="magnify"><defs/><g><!--MD5=[db0a8d601c7f892ef08d7da8acee661a]
cluster app.softnetwork.persistence.message--><g id="cluster_app.softnetwork.persistence.message"><path d="M8.5,6 L277.5,6 A3.75,3.75 0 0 1 280,8.5 L287,28.4883 L1120.5,28.4883 A2.5,2.5 0 0 1 1123,30.9883 L1123,345.5 A2.5,2.5 0 0 1 1120.5,348 L8.5,348 A2.5,2.5 0 0 1 6,345.5 L6,8.5 A2.5,2.5 0 0 1 8.5,6 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="287" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="268" x="10" y="21.5352">app.softnetwork.persistence.message</text></g><!--MD5=[8b8ed4d3c39d809e656c591f744ce388]
class CommandResult--><g id="elem_CommandResult"><rect codeLine="5" fill="#F1F1F1" height="40.6211" id="CommandResult" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="961.5" y="41"/><ellipse cx="976.5" cy="61.3105" fill="#9B9B9B" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M977.8418,68.5605 L975.3931,68.5605 L975.3931,58.3091 L972.2471,58.3091 L972.2471,56.1675 L980.9878,56.1675 L980.9878,58.3091 L977.8418,58.3091 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="1029.5" y="57.6016">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="113" x="990.5" y="73.668">CommandResult</text></g><!--MD5=[521817ab83e81da341a3f4b5e91bae41]
class Command--><g id="elem_Command"><rect codeLine="6" fill="#F1F1F1" height="40.6211" id="Command" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="253.5" y="41"/><ellipse cx="268.5" cy="61.3105" fill="#9B9B9B" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M269.8418,68.5605 L267.3931,68.5605 L267.3931,58.3091 L264.2471,58.3091 L264.2471,56.1675 L272.9878,56.1675 L272.9878,58.3091 L269.8418,58.3091 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="300.5" y="57.6016">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="282.5" y="73.668">Command</text></g><!--MD5=[4283e214512a3afdde8deaca008c4195]
class EntityCommand--><g id="elem_EntityCommand"><rect codeLine="7" fill="#F1F1F1" height="65.1094" id="EntityCommand" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="22.5" y="142"/><ellipse cx="37.5" cy="162.3105" fill="#9B9B9B" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M38.8418,169.5605 L36.3931,169.5605 L36.3931,159.3091 L33.2471,159.3091 L33.2471,157.1675 L41.9878,157.1675 L41.9878,159.3091 L38.8418,159.3091 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="88.5" y="158.6016">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="109" x="51.5" y="174.668">EntityCommand</text><line style="stroke:#181818;stroke-width:0.5;" x1="23.5" x2="162.5" y1="182.6211" y2="182.6211"/><ellipse cx="33.5" cy="196.3652" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="42.5" y="200.1563">def id: String</text></g><path d="M199,157 L199,165.6553 L130.5,194.8652 L199,173.6553 L199,182.3105 A0,0 0 0 0 199,182.3105 L341,182.3105 A0,0 0 0 0 341,182.3105 L341,167 L331,157 L199,157 A0,0 0 0 0 199,157 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M331,157 L331,167 L341,167 L331,157 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="205" y="174.5684">the entity identifier</text><!--MD5=[91bdd73bfa0be5a29d6eed45e8fe7d2b]
class CommandWithReply--><g id="elem_CommandWithReply"><rect codeLine="13" fill="#F1F1F1" height="65.1094" id="CommandWithReply" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="284" x="376" y="142"/><ellipse cx="391" cy="162.3105" fill="#9B9B9B" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M392.3418,169.5605 L389.8931,169.5605 L389.8931,159.3091 L386.7471,159.3091 L386.7471,157.1675 L395.4878,157.1675 L395.4878,159.3091 L392.3418,159.3091 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="456.5" y="158.6016">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="138" x="405" y="174.668">CommandWithReply</text><rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="112" x="551" y="139"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="110" x="552" y="151.6016">R: CommandResult</text><line style="stroke:#181818;stroke-width:0.5;" x1="377" x2="659" y1="182.6211" y2="182.6211"/><ellipse cx="387" cy="196.3652" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="396" y="200.1563">replyTo: ActorRef[R]</text></g><g id="elem_GMN10"><path d="M695.5,146.5 L695.5,170.5 L660.31,174.5 L695.5,178.5 L695.5,202.4316 A0,0 0 0 0 695.5,202.4316 L936.5,202.4316 A0,0 0 0 0 936.5,202.4316 L936.5,156.5 L926.5,146.5 L695.5,146.5 A0,0 0 0 0 695.5,146.5 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M926.5,146.5 L926.5,156.5 L936.5,156.5 L926.5,146.5 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="701.5" y="164.0684">a command which includes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="701.5" y="179.3789">a reference to the actor identity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="701.5" y="194.6895">to whom a response has to be sent</text></g><!--MD5=[fe6b2754769bc87cf156126798433078]
class CommandWrapper--><g id="elem_CommandWrapper"><rect codeLine="19" fill="#F1F1F1" height="65.1094" id="CommandWrapper" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="358" x="339" y="267"/><ellipse cx="354" cy="287.3105" fill="#9B9B9B" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M355.3418,294.5605 L352.8931,294.5605 L352.8931,284.3091 L349.7471,284.3091 L349.7471,282.1675 L358.4878,282.1675 L358.4878,284.3091 L355.3418,284.3091 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="415" y="283.6016">«trait»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="129" x="368" y="299.668">CommandWrapper</text><rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="195" x="505" y="264"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="193" x="506" y="276.6016">C: Command, R: CommandResult</text><line style="stroke:#181818;stroke-width:0.5;" x1="340" x2="696" y1="307.6211" y2="307.6211"/><ellipse cx="350" cy="321.3652" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="359" y="325.1563">command: C</text></g><!--MD5=[838ac959de5e1ba4664740f6291c93a0]
class ErrorMessage--><g id="elem_ErrorMessage"><rect codeLine="23" fill="#F1F1F1" height="56.4883" id="ErrorMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="971.5" y="146.5"/><ellipse cx="990.55" cy="162.5" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M993.0231,168.6431 Q992.4421,168.9419 991.8029,169.0913 Q991.1638,169.2407 990.4582,169.2407 Q987.9514,169.2407 986.6315,167.5889 Q985.3117,165.937 985.3117,162.8159 Q985.3117,159.6865 986.6315,158.0347 Q987.9514,156.3828 990.4582,156.3828 Q991.1638,156.3828 991.8112,156.5322 Q992.4587,156.6816 993.0231,156.9805 L993.0231,159.7031 Q992.3923,159.1221 991.7988,158.8523 Q991.2053,158.5825 990.5744,158.5825 Q989.2297,158.5825 988.5449,159.6492 Q987.8601,160.7158 987.8601,162.8159 Q987.8601,164.9077 988.5449,165.9744 Q989.2297,167.041 990.5744,167.041 Q991.2053,167.041 991.7988,166.7712 Q992.3923,166.5015 993.0231,165.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1005.45" y="167.791">ErrorMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="972.5" x2="1105.5" y1="178.5" y2="178.5"/><ellipse cx="982.5" cy="192.2441" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="991.5" y="196.0352">message: String</text></g><g id="elem_UnknownMessage"><rect fill="#F1F1F1" height="44.9766" style="stroke:#181818;stroke-width:0.5;" width="225" x="881.5" y="277"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="932" y="292.5352">UnknownMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="882.5" x2="1105.5" y1="297.4883" y2="297.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="887.5" y="315.0234">message = "UnknownMessage"</text></g><!--MD5=[c01f21da5be597659a6ac5a9120f7999]
reverse link Command to EntityCommand--><g id="link_Command_EntityCommand"><path d="M248.52,92.07 C219.32,107.36 183.65,126.04 153.84,141.65 " fill="none" id="Command-backto-EntityCommand" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="245.13,85.42,266.1,82.34,251.63,97.82,245.13,85.42" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3cc5c2c24bb81d0a81ddf7b4b54a96aa]
reverse link Command to CommandWithReply--><g id="link_Command_CommandWithReply"><path codeLine="17" d="M361.33,91.85 C390.74,107.18 426.78,125.96 456.87,141.65 " fill="none" id="Command-backto-CommandWithReply" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="358.58,97.8,344.08,82.34,365.05,85.38,358.58,97.8" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b9f24c687f2fa932040eb0382e2c9a96]
reverse link CommandWithReply to CommandWrapper--><g id="link_CommandWithReply_CommandWrapper"><path d="M518,228.47 C518,241.48 518,255.01 518,266.66 " fill="none" id="CommandWithReply-backto-CommandWrapper" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="511,228.5,518,208.5,525,228.5,511,228.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[bf159bca68ac56d6b5ac9cb7d3de180e]
reverse link CommandResult to ErrorMessage--><g id="link_CommandResult_ErrorMessage"><path d="M1035.83,103.14 C1036.48,117.52 1037.19,133.33 1037.78,146.32 " fill="none" id="CommandResult-backto-ErrorMessage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1028.8,103.64,1034.89,83.34,1042.79,103.01,1028.8,103.64" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5f3fe4472c14c243c89116944cddbc0d]
reverse link ErrorMessage to UnknownMessage--><g id="link_ErrorMessage_UnknownMessage"><path codeLine="29" d="M1021.88,222.3 C1015.05,240.96 1007.52,261.54 1002.01,276.6 " fill="none" id="ErrorMessage-backto-UnknownMessage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1015.57,220.18,1029.01,203.8,1028.72,224.99,1015.57,220.18" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1a01025d7daef42d41646d877f7a0bc9]
@startuml Command
skinparam monochrome true
hide empty members

package app.softnetwork.persistence.message {
    abstract CommandResult << (T,orchid) trait >>
    abstract Command << (T,orchid) trait >>
    abstract EntityCommand << (T,orchid) trait >> extends Command{
        +def id: String
    }
    note right of EntityCommand::id
        the entity identifier
    end note
    abstract CommandWithReply <R: CommandResult> <<(T,orchid) trait >>{
      +replyTo: ActorRef[R]
    }
    note right of CommandWithReply: a command which includes \na reference to the actor identity \nto whom a response has to be sent
    Command <|- - CommandWithReply

    abstract CommandWrapper <C: Command, R: CommandResult> <<(T,orchid) trait >> extends CommandWithReply {
     +command: C
    }

    class ErrorMessage implements CommandResult{
      +message: String
    }
    object UnknownMessage {
      message = "UnknownMessage"
    }
    ErrorMessage <|- - UnknownMessage
}
@enduml

PlantUML version 1.2022.12(Sun Oct 23 20:12:26 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: fr
Country: FR
--></g></svg>